{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/Tooltip/enums.ts","../src/Tooltip/is-mobile.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/Tooltip/SVG/question-mark.tsx","../src/Tooltip/SVG/cancel.tsx","../src/Tooltip/Content/Content.tsx","../src/Tooltip/Tooltip.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export enum EQuarters {\n  TOP_LEFT = 'top_left',\n  TOP_RIGHT = 'top_right',\n  BOTTOM_LEFT = 'bottom_left',\n  BOTTOM_RIGHT = 'bottom_right'\n}\n\nexport enum EMountHandlers {\n  MOUNT = 'mount',\n  UNMOUNT = 'unmount'\n}\n","\nexport const isMobile = (): boolean => {\n  if (/Mobi|Android/i.test(navigator.userAgent)) {\n    return true\n  }\n  return false\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from 'react'\n\ninterface IQuestionMarkProps {\n  fill?: string\n  background?: string\n  width?: string\n  height?: string\n}\n\nconst questionMark = (props: IQuestionMarkProps) => {\n  return (\n    <svg\n      x='0px'\n      y='0px'\n      width={props.width ? props.width : '21px'}\n      height={props.height ? props.height : '21px'}\n      viewBox='0 0 496.158 496.158'>\n      <path fill={props.background || '#007791'} d='M496.158,248.085c0-137.022-111.069-248.082-248.075-248.082C111.07,0.003,0,111.063,0,248.085  c0,137.001,111.07,248.07,248.083,248.07C385.089,496.155,496.158,385.086,496.158,248.085z' />\n      <path fill={props.fill ? props.fill : '#FFFFFF'} d='M138.216,173.592c0-13.915,4.467-28.015,13.403-42.297c8.933-14.282,21.973-26.11,39.111-35.486  c17.139-9.373,37.134-14.062,59.985-14.062c21.238,0,39.99,3.921,56.25,11.755c16.26,7.838,28.818,18.495,37.683,31.97  c8.861,13.479,13.293,28.125,13.293,43.945c0,12.452-2.527,23.367-7.581,32.739c-5.054,9.376-11.062,17.469-18.018,24.279  c-6.959,6.812-19.446,18.275-37.463,34.388c-4.981,4.542-8.975,8.535-11.975,11.976c-3.004,3.443-5.239,6.592-6.702,9.447  c-1.466,2.857-2.603,5.713-3.406,8.57c-0.807,2.855-2.015,7.875-3.625,15.051c-2.784,15.236-11.501,22.852-26.147,22.852  c-7.618,0-14.028-2.489-19.226-7.471c-5.201-4.979-7.8-12.377-7.8-22.192c0-12.305,1.902-22.962,5.713-31.97  c3.808-9.01,8.861-16.92,15.161-23.73c6.296-6.812,14.794-14.904,25.488-24.28c9.373-8.202,16.15-14.392,20.325-18.567  c4.175-4.175,7.69-8.823,10.547-13.953c2.856-5.126,4.285-10.691,4.285-16.699c0-11.718-4.36-21.605-13.074-29.663  c-8.717-8.054-19.961-12.085-33.728-12.085c-16.116,0-27.981,4.065-35.596,12.195c-7.618,8.13-14.062,20.105-19.336,35.925  c-4.981,16.555-14.43,24.829-28.345,24.829c-8.206,0-15.127-2.891-20.764-8.679C141.035,186.593,138.216,180.331,138.216,173.592z   M245.442,414.412c-8.937,0-16.737-2.895-23.401-8.68c-6.667-5.784-9.998-13.877-9.998-24.279c0-9.229,3.22-16.991,9.668-23.291  c6.444-6.297,14.354-9.448,23.73-9.448c9.229,0,16.991,3.151,23.291,9.448c6.296,6.3,9.448,14.062,9.448,23.291  c0,10.255-3.296,18.312-9.888,24.17C261.7,411.481,254.084,414.412,245.442,414.412z' />\n    </svg>\n  )\n}\n\nexport default questionMark\n","import * as React from 'react'\n\ninterface ICancelProps {\n  fill?: string\n}\n\nconst cancel = (props: ICancelProps) => {\n  return (\n    <svg\n      viewBox='0 0 64 64'\n      height='16px'\n      width='16px'\n      role='img'\n      aria-label='Close'\n      focusable='false' >\n      <path fill={props.fill || 'currentColor'} d='M28.941,31.786L0.613,60.114c-0.787,0.787-0.787,2.062,0,2.849c0.393,0.394,0.909,0.59,1.424,0.59   c0.516,0,1.031-0.196,1.424-0.59l28.541-28.541l28.541,28.541c0.394,0.394,0.909,0.59,1.424,0.59c0.515,0,1.031-0.196,1.424-0.59   c0.787-0.787,0.787-2.062,0-2.849L35.064,31.786L63.41,3.438c0.787-0.787,0.787-2.062,0-2.849c-0.787-0.786-2.062-0.786-2.848,0   L32.003,29.15L3.441,0.59c-0.787-0.786-2.061-0.786-2.848,0c-0.787,0.787-0.787,2.062,0,2.849L28.941,31.786z' />\n    </svg>\n  )\n}\n\nexport default cancel\n","import * as React from 'react'\nimport { EMountHandlers } from '../enums';\nconst { useEffect } = React\n// CSS\nimport classes from './Content.css'\n// JSX\nimport Cancel from '../SVG/cancel'\n\ninterface IContentProps {\n  // If the tooltip was opened by a click, then `bIsOpenedByClick` is true.\n  bIsOpenedByClick?: boolean\n  // If the tooltip clicking functionality is disabled, then avoid rendering the cancel button.\n  bIsClickingDisabled?: boolean\n  /**\n   * Function that will execute after mounting and before unmounting to calculate position\n  /* and handle event listeners\n   */\n  setTooltip: (handler:string) => void\n  // Triangle reference\n  triangleReference: React.RefObject<SVGSVGElement>\n  // Wrapper content events\n  closeTooltip: () => void\n  // Wrapper classes\n  className?: string\n  style?: React.CSSProperties\n  // Wrapper reference\n  reference: React.RefObject<HTMLDivElement>\n  // Content reference\n  contentReference: React.RefObject<HTMLDivElement>\n  children?: any\n}\n\nconst content = (props: IContentProps) => {\n  useEffect(() => {\n    // Calculates position and adds event listeners after mounting.\n    if (props.setTooltip) {\n      props.setTooltip(EMountHandlers.MOUNT)\n    }\n    // Removes event listeners before unmounting.\n    return () => {\n      if (props.setTooltip) {\n        props.setTooltip(EMountHandlers.UNMOUNT)\n      }\n    }\n  }, [])\n\n  const wrapperClasses = [classes.Wrapper, props.className || classes.Default]\n\n  const contentRef = props.contentReference\n  if (!contentRef) { return null } // Avoid errors.\n\n  return (\n    <React.Fragment>\n      <div \n        tabIndex={1}\n        ref={props.reference}\n        className={wrapperClasses.join(' ')}\n        style={props.style}>\n        <div\n          ref={contentRef}\n          className={classes.Container}>\n          <Triangle reference={props.triangleReference} />\n          {props.bIsClickingDisabled ? \n            null\n            : props.bIsOpenedByClick && <button onClick={props.closeTooltip} type='button' className={classes.Cancel}><Cancel /></button>}\n          <div onMouseDown={(event) => event.preventDefault()} className={classes.Content}>\n            {props.children}\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default content\n\ninterface ITriangleProps {\n  reference?: React.RefObject<SVGSVGElement>\n}\n\nconst Triangle = (props: ITriangleProps) => {\n  return (\n    <svg\n      ref={props.reference}\n      className={classes.Triangle}\n      x='0px'\n      y='0px'\n      width='24px'\n      height='24px'\n      viewBox='0 0 20 20'>\n      <path fill='inherit' d='M0,0 20,0 10,10z' />\n      <path fill='transparent' stroke='#E6E6E6' d='M0,0 10,10 20,0' />\n    </svg>\n  )\n}","import * as React from 'react'\nconst { useRef, useMemo, useEffect } = React\nimport { EMountHandlers, EQuarters } from './enums'\n// Worker function\nimport { isMobile as setisMobile } from './is-mobile'\n// CSS\nimport classes from './Tooltip.css'\n// JSX\nimport QuestionMark from './SVG/question-mark'\nimport Content from './Content/Content'\n\nenum ETooltipHandlers {\n  CLEARTIMEOUT,\n  SETTIMEOUT,\n  CLOSETOOLTIP,\n  HIDDEN,\n  HOVERED\n}\n\nenum EEventListenersHandlers {\n  ADD,\n  REMOVE\n}\n\ninterface IReducerAction extends ITooltipState {\n  handler: ETooltipHandlers\n}\n\ninterface ITooltipProps {\n  // Tooltip propTypes (style and JSX element replacement)\n  tooltip: React.ReactNode\n  fill: string\n  background: string\n  wrapperClassName: string\n  className: string\n  // Tooltip functionality\n  timeoutDelay: number\n  shouldDisableHover: boolean\n  shouldDisableClick: boolean\n  // React Children\n  children: React.ReactNode\n}\n\ninterface ITooltipState {\n  isMobile: boolean\n  onMouseLeaveTimeout?: NodeJS.Timeout\n  timeoutDelay: number\n  bIsHidden: boolean\n  bIsNotHovered: boolean\n}\n\nconst reducer = (state: ITooltipState, action: IReducerAction) => {\n  const { handler, ...newState } = action\n  switch (handler) {\n    case ETooltipHandlers.CLEARTIMEOUT:\n      state.onMouseLeaveTimeout && clearTimeout(state.onMouseLeaveTimeout)\n      return {\n        ...state,\n        onMouseLeaveTimeout: undefined\n      }\n    case ETooltipHandlers.SETTIMEOUT:\n      setTimeout(() => {\n        return {\n          ...state,\n          bIsNotHovered: newState.bIsNotHovered\n        }\n      }, state.timeoutDelay)\n    case ETooltipHandlers.CLOSETOOLTIP:\n      return {\n        ...state,\n        bIsHidden: true,\n        bIsNotHovered: true\n      }\n    case ETooltipHandlers.HIDDEN:\n      return {\n        ...state,\n        bIsHidden: newState.bIsHidden\n      }\n    case ETooltipHandlers.HOVERED:\n      return {\n        ...state,\n        bIsNotHovered: newState.bIsNotHovered\n      }\n    default:\n      throw new Error()\n  }\n}\nconst initialState = {\n  isMobile: setisMobile(),\n  onMouseLeaveTimeout: undefined,\n  timeoutDelay: 100,\n  bIsHidden: true,\n  bIsNotHovered: true\n}\n\nconst tooltip = (props: ITooltipProps) => {\n  initialState.timeoutDelay = props.timeoutDelay || 100\n\n  // References, needed to calculate initial position when rendering.\n  const myTooltip = useRef<HTMLSpanElement>(null)\n  const myWrapper= useRef<HTMLDivElement>(null)\n  const myContent= useRef<HTMLDivElement>(null)\n  const myTriangle= useRef<SVGSVGElement>(null)\n\n  const [state, dispatch] = React.useReducer(reducer, initialState)\n\n  /**\n   * Calculates in which quarter of the screen the element is at.\n   */\n  const calculateQuarter = (rect: ClientRect, viewportX: number, viewportY: number):string => {\n    const response = []\n    if (rect.top >= viewportY / 2) {\n      response.push('bottom')\n    } else {\n      response.push('top')\n    }\n    if (rect.left >= viewportX / 2) {\n      response.push('right')\n    } else {\n      response.push('left')\n    }\n    return response.join('_')\n  }\n\n  /**\n   * Depending of which quarter of the screen the element is at (calculated in calculateQuarter), then\n   * assings CSS style properties to the tooltip container (and triangle) respective to the quarter\n   * to ensure the tooltip will be completely shown in the screen.\n   */\n  const smartPositioning = (quarter:string):void => {\n    if (myContent.current && myTriangle.current) {\n      // Content spacing.\n      const contentVertical = [24, 'px'].join('')\n      const contentHorizontal = [-18, 'px'].join('')\n      // Triangle SVG spacing.\n      const triangleVertical = [100, '%'].join('')\n      const triangleHorizontal = [6, 'px'].join('')\n      switch (quarter) {\n        case EQuarters.TOP_LEFT:\n          // Container position\n          myContent.current.style.top = contentVertical\n          myContent.current.style.left = contentHorizontal\n          // Triangle position\n          myTriangle.current.style.bottom = triangleVertical\n          myTriangle.current.style.left = triangleHorizontal\n          myTriangle.current.style.transform = 'rotate(180deg)'\n          break\n        case EQuarters.TOP_RIGHT:\n          // Container position\n          myContent.current.style.top = contentVertical\n          myContent.current.style.right = contentHorizontal\n          // Triangle position\n          myTriangle.current.style.bottom = triangleVertical\n          myTriangle.current.style.right = triangleHorizontal\n          myTriangle.current.style.transform = 'rotate(180deg)'\n          break\n        case EQuarters.BOTTOM_LEFT:\n          // Container position\n          myContent.current.style.bottom = contentVertical\n          myContent.current.style.left = contentHorizontal\n          // Triangle position\n          myTriangle.current.style.top = triangleVertical\n          myTriangle.current.style.left = triangleHorizontal\n          myTriangle.current.style.transform = 'none'\n          break\n        case EQuarters.BOTTOM_RIGHT:\n          // Container position\n          myContent.current.style.bottom = contentVertical\n          myContent.current.style.right = contentHorizontal\n          // Triangle position\n          myTriangle.current.style.top = triangleVertical\n          myTriangle.current.style.right = triangleHorizontal\n          myTriangle.current.style.transform = 'none'\n          break\n      }\n    }\n  }\n\n  /**\n   * watchOverflow will determine if the element is overflown (outside of viewport).\n   * If it's overflown, then transform the element to the left so that it'll be inside the viewport,\n   * and the tooltip will be legible.\n   */\n  const watchOverflow = ():void => {\n    if (!myContent.current || !myTriangle.current || !myTooltip.current) { return } // Avoid crashes\n    const viewportX:number = Math.max(document.documentElement.clientWidth || 0)\n    const contentRect:ClientRect = myContent.current.getBoundingClientRect()\n    const overflowX:number = (contentRect.width + contentRect.left) - viewportX\n    const transformArray:string[] = ['']\n    let bIsOverflownX = false\n    let bIsOverflownY = false\n    if (overflowX >= 0) { // Right Side\n      transformArray.push(`translateX(-${overflowX + 12}px)`)\n      myTriangle.current.style.left = `(-${12}px)`\n      bIsOverflownX = true\n    } else if (contentRect.left < 0) { // Left Side\n      transformArray.push(`translateX(${Math.abs(contentRect.left) + 12}px)`)\n      bIsOverflownX = true\n    }\n    /**\n     * If overflown from the top, then move the tooltip down until it's inside the viewport.\n     * The triangle SVG will be hidden since it won't point to the tooltip.\n     */\n    if (contentRect.top < 0) {\n      bIsOverflownY = true\n      transformArray.push(`translateY(${Math.abs(contentRect.top) + 12}px)`)\n      myTriangle.current.style.visibility = 'hidden'\n    }\n    /**\n     * Apply transform styling.\n     */\n    if (bIsOverflownX || bIsOverflownY) {\n      myContent.current.style.transform = transformArray.join(' ')\n    }\n    /**\n     * If overflown on the X axis, then move the triangle so that it'll point\n     * to the tootip, while keeping the transform rotate property if it exists.\n     */\n    if (bIsOverflownX) {\n      const tooltipRect: ClientRect = myTooltip.current.getBoundingClientRect()\n      const triangleRect: ClientRect = myTriangle.current.getBoundingClientRect()\n      /**\n       * We need the middle point of the tooltip and the triangle, to make sure\n       * that we will be translating the triangle to the center of the tooltip,\n       * so that it will align perfectly.\n       */\n      const tooltipXMidPoint:number = tooltipRect.left + ((tooltipRect.right - tooltipRect.left) / 2)\n      const triangleXMidPoint:number = triangleRect.left + ((triangleRect.right - triangleRect.left) / 2)\n      const distance:number = tooltipXMidPoint - triangleXMidPoint\n      if (String(myTriangle.current.style.cssText).includes('rotate')) {\n        myTriangle.current.style.transform = `translateX(${distance}px) rotate(180deg)`\n      } else {\n        myTriangle.current.style.transform = `translateX(${distance}px)`\n      }\n    }\n  }\n\n  /**\n   * Determines the positioning of the Tooltips based on the position inside the viewport WHEN OPENED,\n   * and watches if it's overflowing the viewport. If it's overflowing, then it will translate the tooltip\n   * to the left.\n   */\n  const calculatePosition = ():void => {\n    if (myContent.current && myTriangle.current) {\n      const viewportX:number = Math.max(document.documentElement.clientWidth || 0)\n      const viewportY:number = Math.max(document.documentElement.clientHeight || 0)\n      const rect:ClientRect = myContent.current.getBoundingClientRect()\n      const quarter:string = calculateQuarter(rect, viewportX, viewportY)\n      smartPositioning(quarter)\n      watchOverflow()\n      /**\n       * Finally although not having to do anything with positioning, we set the triangle SVG fill EQUAL\n       * to the background color of the content window of the tooltip.\n       */\n      const contentBackgroundColor:string | null = window.getComputedStyle(myContent.current).backgroundColor\n      myTriangle.current.style.fill = contentBackgroundColor\n    }\n  }\n\n  /**\n   * When on mobile, if an orientation change event happens, close the modal to avoid bugs.\n   */\n  useEffect(() => {\n    window.addEventListener('resize', closeTooltip)\n    if (state.isMobile) {\n      window.addEventListener('orientationchange', closeTooltip)\n    }\n    // on Unmount\n    return () => {\n      // Remove any event listener that might be active.\n      if (state.isMobile) {\n        window.removeEventListener('orientationchange', closeTooltip)\n      }\n      window.removeEventListener('resize', closeTooltip)\n      // Document event listeners.\n      eventListenersHandler(EEventListenersHandlers.REMOVE)\n      // Clearing timeout on mouse leave event.\n      dispatch({ handler: ETooltipHandlers.CLEARTIMEOUT } as IReducerAction)\n    }\n  }, [])\n\n  /**\n   * Adds or removes event listeners, depending if on a mobile or on a desktop.\n   */\n  const eventListenersHandler = (handler: EEventListenersHandlers):void => {\n    switch (handler) {\n      case EEventListenersHandlers.ADD:\n        if (state.isMobile) {\n          document.addEventListener('touchend', outsideClickListener)\n        } else if (!state.isMobile) {\n          document.addEventListener('click', outsideClickListener)\n          document.addEventListener('keydown', escFunction, false)\n        }\n        break\n      case EEventListenersHandlers.REMOVE:\n        if (state.isMobile) {\n          document.removeEventListener('touchend', outsideClickListener)\n        } else if (!state.isMobile) {\n          document.removeEventListener('click', outsideClickListener)\n          document.removeEventListener('keydown', escFunction, false)\n        }\n        break\n    }\n  }\n\n  const setVisibility = (handler: string):void => {\n    if (!myContent.current || !myTooltip.current) { return } // Protection\n    switch (handler) {\n      case EMountHandlers.MOUNT:\n        myTooltip.current.style.overflow = null\n        myContent.current.style.visibility = null\n        break\n      case EMountHandlers.UNMOUNT:\n        myTooltip.current.style.overflow = 'hidden'\n        myContent.current.style.visibility = 'hidden'\n        break\n    }\n  }\n\n  const setTooltip = (handler: string):void => {\n    switch (handler) {\n      case EMountHandlers.MOUNT:\n        /**\n         * The tooltip should only calculate on mount.\n         */\n        /**\n         * If the tooltip is active, then calculate then:\n         * 1. Set the wrapper overflow and the tooltip's visibility as hidden to avoid parasitic page jumps.\n         * 2. Calculate then .focus() the wrapper element to open the tooltip.\n         * 3. Calculate the position (position: absolute coordinates).\n         * 4. Applies or removes event listeners that manage the tooltip.\n         * 5. Reset the wrapper's overflow and tooltip visibility as null to show the tooltip.\n         */\n        if (!myWrapper.current || !myTooltip.current) { return } // Protection\n        setVisibility(EMountHandlers.UNMOUNT) // To avoid parasitic page jumps\n        calculatePosition()\n        eventListenersHandler(EEventListenersHandlers.ADD)\n        myWrapper.current.focus()\n        setVisibility(handler)\n        break\n      // Removes the event listener if the tooltip is being hidden.\n      case EMountHandlers.UNMOUNT:\n        setVisibility(handler)\n        eventListenersHandler(EEventListenersHandlers.REMOVE)\n        break\n    }\n  }\n\n  /**\n   * If the user is hovering the tooltip then open it, otherwise close it UNLESS the user clicked on the tooltip.\n   */\n  const onHoverHandler = (handler:boolean, event?: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\n    // Disabled on mobile devices (no hover) or if the shouldDisableHover prop is true.\n    if (state.isMobile || props.shouldDisableHover) { return }\n    if (!handler) {\n      // Clearing timeout on mouse leave event.\n      dispatch({ handler: ETooltipHandlers.CLEARTIMEOUT } as IReducerAction)\n      dispatch({ handler: ETooltipHandlers.HOVERED, bIsNotHovered: handler } as IReducerAction)\n    /**\n     * Only dismount if the tooltip is not opened by a click.\n     */\n    } else if (state.bIsHidden) {\n      /**\n       * Event persist is called to avoid receiving null events if the component dismounts.\n       * We declare X and Y positions to know where is the mouse pointer hovering. The result of this\n       * boolean will be stored in bIsHoveringTooltip. Next, onMouseLeaveTimeout will fire within\n       * 100ms, these 100ms will let the user have some time to hover the tooltip. IF the user hovers\n       * over the tooltip bIsHoveringTooltip will be true and the tooltip won't be dismounted, however\n       * if the user pulls the mouse away from the tooltip the tooltip will be dismounted.\n       */\n      if (event && myTooltip.current) {\n        event.persist()\n        const x = event.clientX\n        const y = event.clientY\n        const bIsHoveringTooltip = myTooltip.current.contains(document.elementFromPoint(x, y))\n        if (!bIsHoveringTooltip) {\n          dispatch({ handler: ETooltipHandlers.SETTIMEOUT, bIsNotHovered: handler } as IReducerAction)\n        }\n      }\n    }\n  }\n\n  const toggleTooltip = () => {\n    // Disabled if the shouldDisableHover prop is true.\n    if (props.shouldDisableClick) { return }\n    dispatch({ handler: ETooltipHandlers.HIDDEN, bIsHidden: !state.bIsHidden } as IReducerAction)\n  }\n\n  const closeTooltip = () => {\n    // Disabled if the shouldDisableHover prop is true.\n    if (props.shouldDisableClick) { return }\n    dispatch({ handler: ETooltipHandlers.CLOSETOOLTIP } as IReducerAction)\n  }\n\n  /**\n   * Closes the tooltip as long as the click was made outside of the tooltip wrapper.\n   * The wrapper contains:\n   * 1. The tooltip button.\n   * 2. The tooltip window.\n   */\n  const outsideClickListener = (event: MouseEvent) => {\n    if (myTooltip.current) {\n      const element: HTMLSpanElement = myTooltip.current\n      if (!element.contains(event.target as Node)) {\n        closeTooltip()\n      }\n    }\n  }\n\n  // Close the tooltip when the ESC key is pressed.\n  const escFunction = (event: KeyboardEvent) => {\n    if (event.keyCode === 27) {\n      closeTooltip()\n    }\n  }\n\n  /**\n   * The tooltip content will render if bIsHidden if false or if the tooltip is not hovered.\n   * This means that bIsHidden being true will have priority, which means if the user clicks the tooltip,\n   * then it won't be unmounted when unhovering the tooltip.\n   */\n  let shouldRender = false\n  if (!state.bIsHidden) {\n    shouldRender = true\n  } else if (!state.bIsNotHovered) {\n    shouldRender = true\n  }\n\n  return (\n    /**\n     * Optimization, only update virtual DOM if there is a change in bIsHidden or bIsNotHovered.\n     */\n    useMemo(() => (\n      <span\n        /**\n        * DO NOT REMOVE THE INITIAL OVERFLOW: HIDDEN.\n        * It helps smoothing the initial tooltip mount.\n        */\n        style={{ overflow: 'hidden' }}\n        ref={myTooltip}\n        className={props.wrapperClassName ? props.wrapperClassName : classes.Wrapper}\n        // On mouse hover handlers.\n        onMouseOver={() => onHoverHandler(false)}\n        onMouseLeave={(event) => onHoverHandler(true, event)}\n        onClick={toggleTooltip}>\n        {props.tooltip ? props.tooltip\n          : <QuestionMark fill={props.fill} background={props.background} />}\n        {shouldRender ? (\n          <Content\n            bIsOpenedByClick={!state.bIsHidden}\n            bIsClickingDisabled={props.shouldDisableClick}\n            className={props.className}\n            setTooltip={setTooltip}\n            reference={myWrapper}\n            contentReference={myContent}\n            triangleReference={myTriangle}\n            closeTooltip={closeTooltip} >\n            {props.children}\n          </Content>)\n          : null}\n      </span>\n    ), [state.bIsHidden, state.bIsNotHovered])\n  )\n}\n\nexport default tooltip\n"],"names":["React.createElement","classes","React.Fragment","Cancel","useEffect","setisMobile","QuestionMark","Content"],"mappings":"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"}